<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Audio Visualizer</title>
    <link rel="stylesheet" href="audioAsthetic.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="src/audioSetup.js"></script>
    <script src="src/uiSetup.js"></script>
    <script src="src/visualizer.js"></script>
    <script src="src/audioLoader.js"></script>

    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>

    <script>
        "use strict";
        window.onload = init;
        //Global variables
        let audioElement, audioElement2, canvasElement, playButton1, playButton2, drawCtx, audioCtx, audioCtx2, sourceNode, sourceNode2, analyserNode, analyserNode2, gainNode, gainNode2, biquadNode;
        let NUM_SAMPLES = 128;
        let audioData = new Uint8Array(NUM_SAMPLES / 2);
        let audioData2 = new Uint8Array(NUM_SAMPLES / 2);
        let barColor = "yellow";
        let soundType;
        let visual;
        let invert = false,
            tintRed = false,
            sepia = false,
            singleSong = true;
        let lightLength = 400;

        const SOUND_PATH = {
            sound1: "media/Aerodynamic.mp3",
            sound2: "media/Crescendolls.mp3",
            sound3: "media/Doin' It Right.mp3",
            sound4: "media/Face to Face.mp3",
            sound5: "media/Fragments of Time.mp3",
            Sound6: "media/Giorgio by Moroder.mp3",
            sound7: "media/Harder, Better, Faster, Stronger.mp3",
            sound8: "media/One More Time.mp3",
            sound9: "media/Too Long.mp3",
            sound10: "media/Human After All.mp3",
            sound11: "media/Robot Rock.mp3",
            sound12: "media/Technologic.mp3",
            sound13: "media/Television Rules The Nation.mp3"
        }

        var sizewidth = "1200";
        var sizeheight = "960";

    </script>
</head>

<body>
    <div id="container" width=sizewidth height=sizeheight>
        <canvas id="canvas" width=sizewidth height=sizeheight></canvas>

        <button id="menu" class="mdl-button mdl-js-button mdl-button--icon">
            <i class="material-icons">menu</i>
        </button>
    </div>

    <ul >
        <li class="mdl-menu__item"><audio id="songOne" controls></audio></li>
    </ul>
    <div id="controls" class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="menu">
        <audio id="songOne" controls></audio>
        <audio id="songTwo" controls></audio>
        <section>
            <label>Track One:
                <select id="trackSelectOne">
                    <option value="media/Aerodynamic.mp3">Aerodynamic</option>
                    <option value="media/Crescendolls.mp3">Crescendolls</option>
                    <option value="media/Doin' It Right.mp3" selected>Doin' It Right</option>
                    <option value="media/Face to Face.mp3">Face to Face</option>
                    <option value="media/Fragments of Time.mp3">Fragments of Time</option>
                    <option value="media/Giorgio by Moroder.mp3">Giorgio by Moroder</option>
                    <option value="media/Harder, Better, Faster, Stronger.mp3">Harder, Better, Faster, Stronger</option>
                    <option value="media/One More Time.mp3">One More Time</option>
                    <option value="media/Too Long.mp3">Too Long</option>
                    <option value="media/Human After All.mp3">Human After All</option>
                    <option value="media/Robot Rock.mp3">Robot Rock</option>
                    <option value="media/Technologic.mp3">Technologic</option>
                    <option value="media/Television Rules The Nation.mp3">Television Rules The Nation</option>
                </select>
            </label>
            <button id="playButtonOne" data-playing="no"></button>
            <label>Track Two:
                <select id="trackSelectTwo">
                    <option value="media/Aerodynamic.mp3" selected>Aerodynamic</option>
                    <option value="media/Crescendolls.mp3">Crescendolls</option>
                    <option value="media/Doin' It Right.mp3">Doin' It Right</option>
                    <option value="media/Face to Face.mp3">Face to Face</option>
                    <option value="media/Fragments of Time.mp3">Fragments of Time</option>
                    <option value="media/Giorgio by Moroder.mp3">Giorgio by Moroder</option>
                    <option value="media/Harder, Better, Faster, Stronger.mp3">Harder, Better, Faster, Stronger</option>
                    <option value="media/One More Time.mp3">One More Time</option>
                    <option value="media/Too Long.mp3">Too Long</option>
                    <option value="media/Human After All.mp3">Human After All</option>
                    <option value="media/Robot Rock.mp3">Robot Rock</option>
                    <option value="media/Technologic.mp3">Technologic</option>
                    <option value="media/Television Rules The Nation.mp3">Television Rules The Nation</option>
                </select>
            </label>
            <button id="playButtonTwo" data-playing="no"></button>
        </section>
        <section> Mix Mode:
            <input type="radio" name="secondSong" id="twoSongs" value="freq">
            Slide Between Songs: <input type="range" id="volumeSlider" min="0" max="2" value="1" step="0.01">
            <span id="volumeLabel"></span>
        </section>
        <section>
            <label>Square color:
                <select id="barColorSelect">
                    <option value="yellow" selected>yellow</option>
                    <option value="blue">blue</option>
                    <option value="green">green</option>
                    <option value="orange">orange</option>
                    <option value="red">red</option>
                    <option value="purple">purple</option>
                    <option value="brown">brown</option>
                </select>
            </label>
        </section>
        <section>
            Light Ray Spread: <input type="range" id="raySlider" min="0" max="2" value="2" step="0.01">
            <span id="rayLabel"></span>
        </section>
        <section>
            Bass Slider: <input type="range" id="bassSlider" min="0" max="10" value="5" step="0.01">
            <span id="bassLabel"></span>
        </section>
        <section> Sound Type:
            <input type="radio" name="waveFreq" id="f" value="freq" checked>Frequency
            <input type="radio" name="waveFreq" id="w" value="wave">Wave Form
        </section>
        <section>
            Tint Red: <input type="checkbox" id="tintRedCB">
            Invert: <input type="checkbox" id="invertCB">
            Sepia: <input type="checkbox" id="sepiaCB">
        </section>
        <section> Visuals:
            <input type="radio" name="visual" id="triangle" value="tri">Triangle
            <input type="radio" name="visual" id="circle"  value="cir">Circle
        </section>
    </div>

</body>

</html>
